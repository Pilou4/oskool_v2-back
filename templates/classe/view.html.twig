{% extends 'base.html.twig' %}

{% block body %}
    <h1>Classe de {{ classe.level }} de {{ classe.teachers.firstname ~ ' ' ~ classe.teachers.lastname }} </h1>
    <h2>Liste d'élèves</h2>
    <table>
        <tr>
            <th>id</th>
            <th>prénom</th>
            <th>nom</th>
            <th>date de naissance</th>
            <th>hobbies</th>
            <th>info santé</th>
            <th>autorisation photo</th>
        </tr>
        {% for student in classe.students %}
        <tr>
            <td>{{ student.id }}</td>
            <td>{{ student.firstname }}</td>
            <td>{{ student.lastname }}</td>
            <td>{{ student.birthday | date('d/m/Y') }}</td>
            <td>{{ student.hobbies ? student.hobbies : 'Null' }}</td>
            <td>{{ student.health ? student.health : 'Null' }}</td>
            <td>{{ student.imageRight ? student.imageRight : 'Null' }}</td>
        </tr>
        {% endfor %}
    </table>


    <h1>Nom de l'école : {{ classe.schools.name }} </h1>
    <h2>Niveau {{ classe.level }} <a href="{{ path('classe_update', {'id': classe.id}) }}" class="btn btn-primary">Modifier</a>
        {% if classe.teachers is not empty %}
            <h2>Instituteur <a href="{{ path('teacher_view', {'id': classe.teachers.id}) }}">{{ classe.teachers.firstname ~ " " ~ classe.teachers.lastname }}</a></h2>
        {% else %}
            <a href="{{ path('teacher_add', {'id': classe.id}) }}" class="btn btn-primary">Ajouter</a>           
        {% endif %}


        
    <h3>Listes des élèves <a href="{{ path('student_add', {'id': classe.id}) }}" class="btn btn-primary">Ajouter</a></h3>
    {% for student in classe.students %}
    <li><a href="{{ path('student_view', {'id': student.id}) }}">{{ student.firstname ~ " " ~ student.lastname }}</a></li>
    {% endfor %}
{% endblock %}